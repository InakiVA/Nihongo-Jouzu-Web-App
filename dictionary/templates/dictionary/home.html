{% extends "base.html" %}
{% block content %}
<div class="flex flex-col flex-auto px-4">
  <div class="flex flex-row w-full gap-x-4 items-start">
    <h4 class="text-start">Palabras</h4>
    <div class="flex flex-row flex-auto justify-start gap-x-4 items-center">
      {% include "components/button.html" with icon="components/icons/arrow_left.html" name="action" value="previous" url=cambiar_pagina_url extra_classes="button-icon-only" %}
      <h2>PÃ¡gina {{index}}</h2>      
      {% include "components/button.html" with icon="components/icons/arrow_right.html" name="action" value="next" url=cambiar_pagina_url extra_classes="button-icon-only" %}
    </div>
    {% include "components/button.html" with text="Nueva Palabra" icon="components/icons/add.html" url=toggle_modal_url extra_classes="button-big" %}
  </div>

  <dialog id="crear_palabra_modal" class="modal" {% if ajustes_modal.open_modal %} open {% endif %}>
    <div class="modal-box space-y-4">
      <div class="flex flex-row justify-between items-center">
        <h2>Palabra a crear</h2>
        {% include "components/button.html" with url=toggle_modal_url icon="components/icons/cross.html" extra_classes="button-icon-only"%}
      </div>     
      
      <form action="{{ crear_palabra_url }}" method="post" class="gap-4 p-4 flex flex-auto flex-col">
        {% csrf_token %}
        <div class="flex flex-auto flex-col gap-2">
          <legend class="fieldset-legend">Palabra</legend>
          {% if not ajustes_modal.palabra_valida and intentado %}
          {% include "components/input.html" with placeholder="Tu palabra:" name="palabra_nueva" extra_classes="!border-myalert" %}
          <legend class="fieldset-legend text-myalert">Favor de ingresar palabra</legend>          
          {% else %}
          {% include "components/input.html" with placeholder="Tu palabra:" name="palabra_nueva" value=ajustes_modal.palabra_valida%}
          {% endif %}
        </div>

        <div class="flex flex-auto flex-col gap-2">
          <legend class="fieldset-legend">Significado</legend>
          {% if not ajustes_modal.significado_valido and intentado %}
          {% include "components/input.html" with placeholder="Su significado:" name="significado_nuevo" extra_classes="!border-myalert" %}
          <legend class="fieldset-legend text-myalert">Favor de ingresar su significado</legend> 
          {% else %}
          {% include "components/input.html" with placeholder="Su significado:" name="significado_nuevo" value=ajustes_modal.significado_valido%}
          {% endif %}
        </div>

        <div class="flex flex-auto flex-col gap-2">
          <legend class="fieldset-legend">Lectura</legend>
          {% if not ajustes_modal.lectura_valida and intentado %}
          {% include "components/input.html" with placeholder="Su lectura:" name="lectura_nueva" extra_classes="!border-myalert" %}
          <legend class="fieldset-legend text-myalert">Favor de ingresar su lectura</legend> 
          {% else %}
          {% include "components/input.html" with placeholder="Su lectura:" name="lectura_nueva" value=ajustes_modal.lectura_valida%}
          {% endif %}
        </div>

        <div class="flex flex-col pt-8">
        {% include "components/button.html" with text="Crear" icon="components/icons/add.html" extra_classes="button-big" %}
        </div>
      </form>      
    </div>
  </dialog>

  {% include "components/word_list.html" with url=palabra_url palabras_list=palabras_list%}
</div>
{% endblock %}
