{% extends "base.html" %} {% block content %}
<div class="space-y-4 px-4">
    <div class="border border-accent-main rounded-xl flex flex-auto w-full flex-col py-4">
        <div class="p-6 pt-2 gap-4 space-y-4 w-full">
            <div class="flex justify-between space-y-4"> 
                <h1 class="text-8xl font-light">{{palabra.palabra}}</h1>
                <div class="flex gap-4">
                {% include "components/button.html" with is_navigation=True text="Regresar" url=detalles_url icon="components/icons/back.html" extra_classes="button-neutral" %}
                {% include "components/button.html" with text="Eliminar" icon="components/icons/trash.html" extra_classes="button-alert" %}
                </div>                   
            </div>                
            {% include "components/input_button.html" with name="n_palabra" has_button_left=True icon="components/icons/pencil.html" placeholder="Palabra" button_text="Actualizar"%}         
        </div>
        
        <div class="px-6 flex flex-auto flex-col gap-2">

            <div class="flex items-center gap-4 divider divider-start before:bg-neutral-main after:bg-neutral-main px-4">
                <h2>Significados</h2>          
                <h3>{{palabra.significados}}</h3>                           
            </div> 
            
            <div class="space-y-4 gap-4 p-4">
                {% include "components/input_button.html" with has_button_left=True icon="components/icons/add_mini.html" name="n_significado" placeholder="Nuevo significado" button_text="Crear significado"%}
                <div class="collapser collapse-plus !border-neutral-main">
                    <input type="checkbox"/>
                    <h2 class="collapse-title">Editar significados actuales</h2>
                    <div class="collapse-content space-y-4"> 
                        {% for significado in palabra.significados %} 
                        <div class="flex items-start gap-4 px-4">
                            {% include "components/button.html" with icon="components/icons/trash.html" text="Eliminar" extra_classes="button-alert !rounded-xl !p-2 !px-4"%}
                            <h3 class="px-4 max-w-1/3 flex-none whitespace-normal break-keep">{{significado}}</h3>
                            {% include "components/input_button.html" with name="n_palabra" icon="components/icons/pencil.html" placeholder="Significado" button_text="Actualizar" input_classes="!border-neutral-main" button_classes="!rounded-xl !px-4"%}                                
                        </div>      
                        {% endfor %}              
                    </div>     
                </div>                     
            </div>         

            <div class="flex items-center gap-4 divider divider-start before:bg-neutral-main after:bg-neutral-main px-4">
                <h2>Lecturas</h2> 
                <h3>{{palabra.lecturas}}</h3>                                             
            </div>
              
            <div class="space-y-4 gap-4 p-4">
                {% include "components/input_button.html" with has_button_left=True icon="components/icons/add_mini.html" name="n_lectura" placeholder="Nueva lectura" button_text="Crear lectura"%}
                <div class="collapser collapse-plus !border-neutral-main">
                    <input type="checkbox"/>
                    <h2 class="collapse-title">Editar lecturas actuales</h2>
                    <div class="collapse-content space-y-4"> 
                        {% for lectura in palabra.lecturas %} 
                        <div class="flex items-start gap-4 px-4">
                            {% include "components/button.html" with icon="components/icons/trash.html" text="Eliminar" extra_classes="button-alert !rounded-xl !p-2 !px-4"%}
                            <h3 class="px-4 max-w-1/3 flex-none whitespace-normal break-keep">{{lectura}}</h3>
                            {% include "components/input_button.html" with name="n_palabra" icon="components/icons/pencil.html" placeholder="Lectura" button_text="Actualizar" input_classes="!border-neutral-main" button_classes="!rounded-xl !px-4"%}                                
                        </div>      
                        {% endfor %}              
                    </div>     
                </div>                     
            </div>                 

            <div class="flex items-center gap-4 divider divider-start before:bg-neutral-main after:bg-neutral-main px-4">  
                <h2>Etiquetas</h2>              
                <li class="flex flex-row flex-auto gap-2 font-light">
                    {% for etiqueta in palabra.etiquetas %}
                    {% include "components/tag.html" with text=etiqueta %}         
                    {% endfor %}
                </li>                         
            </div>
             
            <div class="space-y-4 gap-4 p-4">
                {% include "components/select_button.html" with has_button_left=True icon="components/icons/add_mini.html" name="n_etiqueta" button_text="Agregar etiqueta"%}
                <div class="collapser collapse-plus !border-neutral-main">
                    <input type="checkbox"/>
                    <h2 class="collapse-title">Editar etiquetas actuales</h2>
                    <div class="collapse-content space-y-4"> 
                        {% for etiqueta in palabra.etiquetas %}
                        {% include "components/checkbox.html" with text=etiqueta %}     
                        {% endfor %}              
                    </div>     
                </div>                     
            </div> 

            <div class="flex items-center gap-4 divider divider-start before:bg-neutral-main after:bg-neutral-main px-4">
                <h2>Notas</h2>                                      
            </div>  
             
            <div class="space-y-4 gap-4 p-4">
                    {% include "components/input_button.html" with is_textarea=True has_button_left=True icon="components/icons/add_mini.html" name="n_nota" placeholder="Nueva nota" button_text="Crear nota"%}
                <div class="collapser collapse-plus !border-neutral-main">
                    <input type="checkbox"/>
                    <h2 class="collapse-title">Editar notas actuales</h2>
                    <div class="collapse-content space-y-4"> 
                        {% for nota in palabra.notas %} 
                        <div class="flex items-start gap-4 px-4">
                            {% include "components/button.html" with icon="components/icons/trash.html" text="Eliminar" extra_classes="button-alert !rounded-xl !p-2 !px-4"%}
                            <h3 class="px-4 max-w-1/3 flex-none whitespace-normal break-keep">{{nota}}</h3>
                            {% include "components/input_button.html" with is_textarea=True name="n_palabra" icon="components/icons/pencil.html" placeholder="Nota" button_text="Actualizar" input_classes="!border-neutral-main" button_classes="!rounded-xl !px-4"%}                                
                        </div>      
                        {% endfor %}              
                    </div>     
                </div>                     
            </div> 
        </div>     
    </div>

    <div class="px-4">
        {% include "components/progress_input_row.html" with progreso=palabra.progreso progress_url=cambiar_progreso_url estrella_url=estrella_url%}         
    </div>

    <div class="pb-4 space-y-4">
        <div class="space-y-4">
            <div class="divider divider-start before:bg-neutral-main after:bg-neutral-main pr-4 py-8">
                <h2>Grupos</h2>
            </div>   
            <h3 class="px-4">{{palabra.grupos}}</h3>
            {% if grupos_checks %}
            <div class="collapser collapse-plus !border-neutral-main">
                <input type="checkbox"/>
                <h3 class="collapse-title font-light">Modificar grupos de palabra</h3>
                <div class="collapse-content space-y-4"> 
                    {% for grupo in grupos_checks %}
                    {% include "components/checkbox.html" with text=grupo.text id=grupo.id is_selected=grupo.is_selected url=grupos_checks_url %}
                    {% endfor %}                
                </div>     
            </div>
            {% endif %} 
        </div>
            
        {% if palabras_relacionadas %}      
        <div class="space-y-4">
            <div class="divider divider-start before:bg-neutral-main after:bg-neutral-main pr-4 py-8">
                <h2>Palabras relacionadas</h2>
            </div> 
            {% include "components/word_list.html" with url=palabras_relacionadas_url palabras_list=palabras_relacionadas %}
        </div>
        {% endif %}    
    </div>
</div>
{% endblock %}